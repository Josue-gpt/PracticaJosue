<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Listado de Árboles</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.7/css/bootstrap.min.css}">
</head>
<body class="bg-light">

<div th:replace="fragments/navbar :: navbar"></div>

<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Listado de Árboles</h2>
        <a th:href="@{/arbol/nuevo}" class="btn btn-success">
            + Nuevo Árbol
        </a>
    </div>

    <div class="card shadow-sm border-0">
        <div class="card-body">
            <table class="table table-striped table-hover align-middle mb-0">
                <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Flor</th>
                        <th>Dureza</th>
                        <th>Altura</th>
                        <th>Imagen</th>
                        <th style="width:180px;">Acciones</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="arbol : ${arboles}">
                        <td th:text="${arbol.idArbol}"></td>
                        <td th:text="${arbol.nombreComun}"></td>
                        <td th:text="${arbol.tipoFlor}"></td>
                        <td th:text="${arbol.durezaMadera}"></td>
                        <td th:text="${arbol.alturaPromedio}"></td>

                        <td>
                            <img th:if="${arbol.rutaImagen != null and !#strings.isEmpty(arbol.rutaImagen)}"
                                 th:src="@{${arbol.rutaImagen}}"
                                 style="max-height:70px; width:auto;"
                                 class="img-thumbnail"/>
                        </td>

                        <td>
                            <a th:href="@{/arbol/editar/{id}(id=${arbol.idArbol})}"
                               class="btn btn-success btn-sm me-1">Editar</a>

                            <a th:href="@{/arbol/eliminar/{id}(id=${arbol.idArbol})}"
                               class="btn btn-danger btn-sm">Eliminar</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>